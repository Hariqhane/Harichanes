\documentclass{article}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{pgffor} % pgf 提供的循环命令

\begin{document}

\begin{figure}[htbp]
\centering
\foreach \n in {1,...,12}{
  \begin{subfigure}{.25\textwidth}
    \centering
    \includegraphics[width=\linewidth]{image_p\n.png}
    \subcaption*{} % 使用\subcaption*来避免编号和标题
    %\caption{Image \n}
    \label{fig:image-\n}
  \end{subfigure}%\quad % 用 \quad 为图片添加一些间隔
  % 检查是否需要换行：每4张图片换一次
  %\ifnum\n=3 \par\bigskip\fi
  %\ifnum\n=7 \par\bigskip\fi
  % 以此类推，你可以添加更多的条件来控制换行
}
\caption{Main figure caption}
\label{fig:main-figure}
\end{figure}

\end{document}
